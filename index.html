<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Autobusowe</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=1">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <canvas id="starfield"></canvas>
    <header id="topka" class="bg-primary text-white py-3">
        <div class="container">
            <h1 class="mb-0"></h1>
            <div id="user-info" class="mt-2"></div>
            <button id="logout-button" class="btn btn-outline-light mt-2 hidden">Wyloguj</button>
        </div>
    </header>

    <main class="container my-4">
        <section id="auth">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div id="login-card" class="card">
                        <div class="card-body">
                            <h2 class="card-title text-center mb-4">Zaloguj się</h2>
                            <form id="login-form">
                                <div class="mb-3">
                                    <input type="text" class="form-control" id="login-username" placeholder="Nazwa użytkownika lub email" required>
                                </div>
                                <div class="mb-3">
                                    <input type="password" class="form-control" id="login-password" placeholder="Hasło" required>
                                </div>
                                <div class="form-check mb-3">
                                    <input type="checkbox" class="form-check-input" id="remember-me">
                                    <label class="form-check-label" for="remember-me">Zapamiętaj mnie</label>
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Zaloguj się</button>
                            </form>
                            <div class="text-center mt-3">
                                <a href="#" id="show-register">Nie masz konta? Zarejestruj się</a>
                            </div>
                            <div class="text-center mt-3">
                                <button id="import-data" class="btn btn-outline-secondary btn-sm">Importuj dane</button>
                            </div>
                        </div>
                    </div>
                    <div id="register-card" class="card mt-4 hidden">
                        <div class="card-body">
                            <h2 class="card-title text-center mb-4">Zarejestruj się</h2>
                            <form id="register-form">
                                <div class="mb-3">
                                    <input type="text" class="form-control" id="register-username" placeholder="Nazwa użytkownika" required>
                                </div>
                                <div class="mb-3">
                                    <input type="email" class="form-control" id="register-email" placeholder="Email" required>
                                </div>
                                <div class="mb-3">
                                    <input type="password" class="form-control" id="register-password" placeholder="Hasło" required>
                                </div>
                                <button type="submit" class="btn btn-success w-100">Zarejestruj się</button>
                            </form>
                            <div class="text-center mt-3">
                                <a href="#" id="show-login">Masz już konto? Zaloguj się</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="bingo" class="hidden">
            <div class="row">
                <div class="col-md-8">
                    <h2 class="mb-4">BINGO AUTOBUSOWE</h2>
                    <p class="text-muted mb-3"></p>
                    <div id="bingo-grid" class="mb-4">
                        <div class="bingo-cell" data-item="Piwko" data-points="1">Piwko</div>
                        <div class="bingo-cell" data-item="Daj bucha" data-points="1">Daj bucha</div>
                        <div class="bingo-cell" data-item="Zatarta skrzynia biegów" data-points="1">Zatarta skrzynia biegów</div>
                        <div class="bingo-cell" data-item="Wywrotka" data-points="1">Wywrotka</div>
                        <div class="bingo-cell" data-item="Odur" data-points="1">Odur</div>
                        <div class="bingo-cell" data-item="Snusik" data-points="1">Snusik</div>
                        <div class="bingo-cell" data-item="Boomer dzwonek" data-points="1">Boomer dzwonek</div>
                        <div class="bingo-cell" data-item="Tabaka" data-points="1">Tabaka</div>
                        <div class="bingo-cell" data-item="Kłótnia" data-points="1">Kłótnia</div>
                        <div class="bingo-cell" data-item="Down" data-points="1">Down</div>
                        <div class="bingo-cell" data-item="Zegar" data-points="1">Zegar</div>
                        <div class="bingo-cell" data-item="Kichnięcie" data-points="1">Kichnięcie</div>
                        <div class="bingo-cell" data-item="Chrapanie" data-points="1">Chrapanie</div>
                        <div class="bingo-cell" data-item="Przekleństwa" data-points="1">Przekleństwa</div>
                        <div class="bingo-cell" data-item="Klima" data-points="1">Klima</div>
                        <div class="bingo-cell rare" data-item="RARE EVENT - Żyd" data-points="2">RARE EVENT - Żyd</div>
                    </div>
                    <div id="marked-info" class="alert alert-info hidden">Oznaczono: <span id="marked-count">0</span>/16 pozycji | Punkty: <span id="current-points">0</span></div>
                    <div id="win-message" class="alert alert-success hidden">Gratulacje! Wygrałeś bingo!</div>
                </div>
                <div class="col-md-4">
                    <button id="toggle-leaderboard" class="btn btn-outline-light w-100 mb-3">Topka</button>
                    <div id="leaderboard-card" class="card">
                        <div class="card-header">
                            <h3>Topka</h3>
                        </div>
                        <div id="leaderboard" class="card-body">
                            <!-- Leaderboard will be populated by JS -->
                        </div>
                        <div class="card-footer">
                            <button id="export-data" class="btn btn-outline-primary btn-sm">Eksportuj dane</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Confirmation Modal -->
        <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="confirmModalLabel">Potwierdź oznaczenie</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Czy chcesz oznaczyć "<span id="confirm-item"></span>"? (+<span id="confirm-points"></span> pkt)</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Anuluj</button>
                        <button type="button" class="btn btn-primary" id="confirm-mark">Oznacz</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <input type="file" id="import-file" accept=".json" style="display: none;">
    <script src="script.js"></script>

    <!-- 3D Effect Toggle -->
    <button id="effect-toggle" title="Toggle 3D Effect">3D</button>

    <footer class="text-center py-3 mt-5" style="color: white; border-top: 1px solid #00d4ff;">
        <p>&copy; BŁONA</p>
        <small></small>
    </footer>
</body>
</html>
